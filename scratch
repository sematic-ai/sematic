PIPELINE RUN COUNT FOR ORG

/api/v1/metrics/resolution_count?organization_id=<>&aggregration=total

SELECT sum(value)
FROM metrics
WHERE
    name = "resolution_count"
    AND organization_id = <>


sum(sum_over_time(resolution_count[99y]))


PIPELINE RUN COUNT FOR USER

/api/v1/metrics/resolution_count?user_id="<>"&aggregration=total

SELECT sum(value)
FROM metrics
WHERE
    name = "resolution_count"
    AND user_id = <>


sum(sum_over_time(resolution_count{user_id=<>}[99y]))


PIPELINE RUN COUNT

/api/v1/metrics/resolution_count?calculator_path="<>"&aggregration=total

SELECT sum(value)
FROM metrics
WHERE
    name = "resolution_count"
    AND calculator_path = <>

sum(sum_over_time(resolution_count{calculator_path=<>}[99y]))


FUNCTION RUN COUNT

/api/v1/metrics/run_count?calculator_path="<>"&aggregation=total

SELECT sum(value)
FROM metrics
WHERE
    name = "run_count"
    AND calculator_path = <>

sum(sum_over_time(run_count{calculator_path=<>}[99y]))


PIPELINE RUN COUNT FOR ORG BY FUNCTION

/api/v1/metrics/resolution_count?organization_id="<>"&group_by=calculator_path

SELECT calculator_path, sum(value)
FROM metrics
WHERE
    name = "resolution_count"
    AND organization_id = <>
GROUP BY calculator_path


PIPELINE RUN COUNT FOR ORG BY USER

/api/v1/metrics?filters=[
    ["name", "eq", "resolution_count"],
    ["organization_id", "eq", "<>"],
]&group_by=user_id

SELECT user_id, sum(value)
FROM metrics
WHERE
    name = "resolution_count"
    AND organization_id = <>
GROUP BY user_id


PIPELINE RUN COUNT FOR ORG BY DATE

/api/v1/metrics?filters=[
    ["name", "eq", "resolution_count"],
    ["organization_id", "eq", "<>"],
]&group_by=date

SELECT date, sum(value)
FROM metrics
WHERE
    name = "resolution_count"
    AND organization_id = <>
GROUP BY date


PIPELINE RUN COUNT FOR ORG BY DATE BY FUNCTION

/api/v1/metrics?filters=[
    ["name", "eq", "resolution_count"],
    ["organization_id", "eq", "<>"],
]&group_by=calculator_path,date

SELECT date, sum(value)
FROM metrics
WHERE
    name = "resolution_count"
    AND organization_id = <>
GROUP BY date


PIPELINE METRICS BY RUN

SELECT name, run_id, sum(value)
FROM metrics
WHERE
    root_calculator_path = <>
    scope = PIPELINE
GROUP BY name, run_id